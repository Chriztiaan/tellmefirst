(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{465:function(e,t,n){var content=n(472);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("ea4fa49e",content,!0,{sourceMap:!1})},467:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(495),o=Object(r.a)("https://ujcqufpnyjbuwjglpuvi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqY3F1ZnBueWpidXdqZ2xwdXZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjExOTg0NTIsImV4cCI6MTk3Njc3NDQ1Mn0.65tZctEviMKFj2EkynvnWnpJ3F0x_Z8n4OB2fdyOmwU")},469:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(136),o=n(467),l=Object(r.c)("auth",{state:function(){return{loggedIn:!1,userId:"92db24d4-5290-4819-9bac-7de8efe7d603"}},getters:{},actions:{login:function(){o.a.auth.signInWithPassword({})},loginOAuth:function(){o.a.auth.signInWithOAuth({})},logout:function(){o.a.auth.signOut(),this.loggedIn=!1},onAuthChange:function(){var e=this;o.a.auth.onAuthStateChange((function(t,n){"USER_DELETED"!=t&&"SIGNED_OUT"!=t||(e.logout(),console.log("Auto logout",n))}))}}})},470:function(e,t,n){"use strict";n.r(t);var r=n(506),o=n(479),l=n(0).default.extend({props:{loading:{type:Boolean,default:!1}}}),c=(n(471),n(75)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex flex-column gap-1 text-field"},[t("header-5",[e._t("default",(function(){return[e._v("Â ")]}))],2),e._v(" "),e.loading?t("div",{staticClass:"d-flex align-center"},[t(r.a,{attrs:{type:"chip",width:"100%"}})],1):t(o.a,e._g(e._b({attrs:{type:"search",dense:"",outlined:"","hide-details":"",height:"34"}},"v-text-field",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,"674eb996",null);t.default=component.exports},471:function(e,t,n){"use strict";n(465)},472:function(e,t,n){var r=n(23)(!1);r.push([e.i,"\n[data-v-674eb996] .v-skeleton-loader__chip {\n    width: 100% !important;\n    height: 40px;\n    border-radius: 10px;\n}\n",""]),e.exports=r},473:function(e,t,n){var content=n(484);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("5feb5c24",content,!0,{sourceMap:!1})},483:function(e,t,n){"use strict";n(473)},484:function(e,t,n){var r=n(23)(!1);r.push([e.i,"\n[data-v-6fa7f8c6] .v-btn {\n    height: 40px;\n    width: 40px;\n    min-width: 40px !important;\n    max-width: 40px !important;\n    padding: 0 !important;\n    border-radius: 10px;\n}\n[data-v-6fa7f8c6] .v-skeleton-loader__button {\n    width: 40px !important;\n    height: 40px;\n    border-radius: 10px;\n}\n",""]),e.exports=r},488:function(e,t,n){"use strict";n.r(t);var r=n(276),o=n(133),l=n(506),c=n(0).default.extend({props:{color:{type:String,default:"primary"},loading:{type:Boolean,default:!1}}}),d=(n(483),n(75)),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.loading?t("div",{staticClass:"d-flex align-center"},[t(l.a,{attrs:{type:"button"}})],1):t(r.a,e._b({attrs:{color:e.color},on:{click:function(t){return e.$emit("click")}}},"v-btn",e.$attrs,!1),[t(o.a,[e._t("default",(function(){return[e._v("mdi-home")]}))],2)],1)],1)}),[],!1,null,"6fa7f8c6",null);t.default=component.exports},489:function(e,t,n){var content=n(505);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("65f4a00a",content,!0,{sourceMap:!1})},504:function(e,t,n){"use strict";n(489)},505:function(e,t,n){var r=n(23)(!1);r.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Exo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap);"]),r.push([e.i,".v-text-field.v-text-field--enclosed .v-input__append-inner[data-v-3eb9e81b],.v-text-field.v-text-field--enclosed .v-input__prepend-inner[data-v-3eb9e81b]{margin-top:12px !important}.v-input--dense.v-text-field.v-text-field--enclosed .v-input__append-inner[data-v-3eb9e81b]{margin-top:10px !important}.v-input--dense.v-text-field.v-text-field--enclosed.v-autocomplete .v-input__append-inner[data-v-3eb9e81b]{margin-top:4px !important}.v-input--dense.v-text-field.v-text-field--enclosed .v-input__prepend-inner[data-v-3eb9e81b]{margin-top:4px !important}.v-text-field input[data-v-3eb9e81b],.v-text-field .v-select__selection[data-v-3eb9e81b],.v-text-field textarea[data-v-3eb9e81b]{color:var(--v-text-base) !important;font-weight:500 !important}.theme--light.v-list-item[data-v-3eb9e81b]:not(.v-list-item--active):not(.v-list-item--disabled){color:var(--v-text-base) !important}.link-btn[data-v-3eb9e81b]:hover{text-decoration:underline}.theme--dark .link-btn[data-v-3eb9e81b]{color:var(--v-text-base) !important}.theme--dark .v-icon[data-v-3eb9e81b]{color:var(--v-text-base) !important}.item[data-v-3eb9e81b]{max-width:430px}[data-v-3eb9e81b] .text-field{width:430px !important;max-width:min(100%, 430px) !important}",""]),e.exports=r},534:function(e,t,n){"use strict";n.r(t);var r=n(276),o=n(501),l=n(133),c=n(460),d=n(137),f=(n(284),n(19),n(8),n(300),n(285),n(54),n(44),n(66),n(58),n(33),n(18),n(68),n(77),n(59),n(0)),v=n(175),h=n(32),m=(n(95),n(174),n(207),n(53),n(17),n(76),n(87),n(20),n(40),n(136)),x=n(469),_=n(467),y=Object(m.c)("questionnaire",{state:function(){return{questionnaire:void 0,questions:[],loading:!1,questionsLoading:!1,updating:!1,questionsUpdating:!1}},actions:{retrieveQuestionnaire:function(){var e=arguments,t=this;return Object(h.a)(regeneratorRuntime.mark((function n(){var r,o,l,data,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:"",o=r||Object(x.a)().userId,t.questionnaire=void 0,t.loading=!0,n.next=6,_.a.from("questionnaires").select().match({user_id:o}).limit(1).single();case 6:if(l=n.sent,data=l.data,!(c=l.error)||"PGRST116"!=c.code||o!=Object(x.a)().userId){n.next=17;break}return d={},n.next=13,t.upsertQuestionnaire(d);case 13:if(t.questionnaire){n.next=15;break}return n.abrupt("return");case 15:c=void 0,data=t.questionnaire;case 17:!c&&data?(t.questionnaire=data,t.retrieveQuestionsByQuestionnaire(t.questionnaire.user_id)):console.log(c),t.loading=!1;case 19:case"end":return n.stop()}}),n)})))()},retrieveQuestionsByQuestionnaire:function(e){var t=this;return Object(h.a)(regeneratorRuntime.mark((function n(){var r,data,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.questions=[],t.questionsLoading=!0,n.next=4,_.a.from("questions").select().match({questionnaire_id:e}).limit(50).order("created_at",{ascending:!0});case 4:r=n.sent,data=r.data,(o=r.error)?console.log(o):t.questions=data,t.questionsLoading=!1;case 9:case"end":return n.stop()}}),n)})))()},upsertQuestionnaire:function(e){var t=this;return Object(h.a)(regeneratorRuntime.mark((function n(){var r,data,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.updating=!0,n.next=3,_.a.from("questionnaires").upsert(e).select().single();case 3:r=n.sent,data=r.data,!(o=r.error)&&data?t.questionnaire=data:console.log(o),t.updating=!1;case 8:case"end":return n.stop()}}),n)})))()},upsertQuestion:function(e){var t=this;return Object(h.a)(regeneratorRuntime.mark((function n(){var r,data,o,q;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.from("questions").upsert(e).select().single();case 2:r=n.sent,data=r.data,!(o=r.error)&&data?((q=t.questions.find((function(q){return q.id==data.id})))?Object.assign(q,data):t.questions.push(data),Object.assign(e,data)):console.log(o);case 6:case"end":return n.stop()}}),n)})))()},upsertQuestions:function(e){var t=this;return Object(h.a)(regeneratorRuntime.mark((function n(){var r,o,l,c,d,f,h,m,x,y,w,Q;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.questionsUpdating=!0,r=e.map((function(q){return q.id})),o=t.questions.map((function(q){return q.id})),l=o.filter((function(i){return!r.includes(i)})),c=e.filter((function(q){return!o.includes(q.id)})),d=e.filter((function(q){return o.includes(q.id)})),(f=t.questions.filter((function(q){return l.includes(q.id)}))).forEach((function(u){u.questionnaire_id=null})),n.next=10,_.a.from("questions").upsert(c).select().order("created_at",{ascending:!0});case 10:return h=n.sent,m=h.data,x=h.error,n.next=15,_.a.from("questions").upsert(d).select().order("created_at",{ascending:!0});case 15:return y=n.sent,w=y.data,Q=y.error,n.next=20,_.a.from("questions").upsert(f).select().order("created_at",{ascending:!0});case 20:!x&&!Q&&m&&w?t.questions=[].concat(Object(v.a)(w),Object(v.a)(m)):(console.log(x),console.log(Q)),t.questionsUpdating=!1;case 22:case"end":return n.stop()}}),n)})))()}}});function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var k=f.default.extend({data:function(){return{internalQuestions:[],internalSalary:!1,internalLeave:!1,internalRemote:!1,internalTitle:""}},computed:{retrieving:function(){return y().loading||y().questionsLoading},updating:function(){return y().updating||y().questionsUpdating},questionnaire:function(){return y().questionnaire},title:function(){return this.questionnaire&&this.questionnaire.title?this.questionnaire.title:""},questions:function(){return y().questions}},watch:{questions:{handler:function(){this.resetQuestions()},immediate:!0},questionnaire:{handler:function(){this.resetQuestionnaire()},immediate:!0}},mounted:function(){y().retrieveQuestionnaire()},methods:{resetQuestionnaire:function(){this.questionnaire&&(this.internalTitle=this.questionnaire.title||"",this.internalSalary=this.questionnaire.salary,this.internalLeave=this.questionnaire.leave,this.internalRemote=this.questionnaire.remote)},resetQuestions:function(){this.internalQuestions=[];var e,t=w(this.questions);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.internalQuestions.push(structuredClone(n))}}catch(e){t.e(e)}finally{t.f()}this.questions.length||this.addQuestion()},reset:function(){this.resetQuestionnaire(),this.resetQuestions()},removeQuestion:function(e){this.internalQuestions.splice(e,1),this.internalQuestions.length||this.addQuestion()},addQuestion:function(){if(this.questionnaire){var q={content:"",questionnaire_id:this.questionnaire.user_id};this.internalQuestions.push(q)}},save:function(){var e={user_id:Object(x.a)().userId};this.questionnaire&&this.questions&&(e=structuredClone(this.questionnaire)),e.title=this.internalTitle,e.salary=this.internalSalary,e.leave=this.internalLeave,e.remote=this.internalRemote,y().upsertQuestionnaire(e);var t,n=w(this.internalQuestions);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.questionnaire_id||(r.questionnaire_id=e.user_id)}}catch(e){n.e(e)}finally{n.f()}y().upsertQuestions(this.internalQuestions)}}}),O=(n(504),n(75)),component=Object(O.a)(k,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex flex-column"},[t("header-1",{staticClass:"primary--text"},[e._v("Questions")]),e._v(" "),t("div",{staticClass:"d-flex flex-column gap-5"},[t("text-field",{attrs:{disabled:e.updating,loading:e.retrieving,placeholder:"Give your questionnaire a name"},model:{value:e.internalTitle,callback:function(t){e.internalTitle=t},expression:"internalTitle"}},[e._v("Title")]),e._v(" "),t(c.a,{staticClass:"wfc",attrs:{disabled:e.updating||e.retrieving,loading:e.retrieving,label:"Query salary","hide-details":"",inset:"",dense:""},model:{value:e.internalSalary,callback:function(t){e.internalSalary=t},expression:"internalSalary"}}),e._v(" "),t(c.a,{staticClass:"wfc",attrs:{disabled:e.updating||e.retrieving,loading:e.retrieving,label:"Query leave","hide-details":"",inset:"",dense:""},model:{value:e.internalLeave,callback:function(t){e.internalLeave=t},expression:"internalLeave"}}),e._v(" "),t(c.a,{staticClass:"wfc",attrs:{disabled:e.updating||e.retrieving,loading:e.retrieving,label:"Query remote work policy","hide-details":"",inset:"",dense:""},model:{value:e.internalRemote,callback:function(t){e.internalRemote=t},expression:"internalRemote"}}),e._v(" "),e.retrieving?e._l(3,(function(i){return t("div",{key:i,staticClass:"d-flex align-end gap-4 width-100"},[t("text-field",{staticClass:"width-100",attrs:{placeholder:"What would you like to ask?",loading:""}}),e._v(" "),t("icon-btn",{attrs:{loading:""}})],1)})):e._l(e.internalQuestions,(function(q,i){return t("div",{key:q.id,staticClass:"d-flex align-end gap-4"},[t("text-field",{attrs:{disabled:e.updating,placeholder:"What would you like to ask?"},model:{value:q.content,callback:function(t){e.$set(q,"content",t)},expression:"q.content"}},[e._v(e._s(i+1)+".")]),e._v(" "),t("icon-btn",{attrs:{color:"error",disabled:e.updating||e.retrieving},on:{click:function(t){return e.removeQuestion(i)}}},[e._v("mdi-trash-can")])],1)})),e._v(" "),t(r.a,{directives:[{def:d.a,name:"ripple",rawName:"v-ripple",value:!1,expression:"false"}],staticClass:"pl-0",attrs:{text:"",plain:"",width:"220",disabled:e.retrieving||e.updating},on:{click:e.addQuestion}},[t(l.a,{staticClass:"primary--text",attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v(" "),t("div",{staticClass:"link-btn",class:e.retrieving||e.updating?"disabled--text":"primary--text"},[e._v("Add another question")])],1),e._v(" "),t(o.a),e._v(" "),t("div",{staticClass:"d-flex justify-end gap-4"},[t(r.a,{attrs:{text:"",color:"primary",width:"150"},on:{click:e.reset}},[e._v("Cancel")]),e._v(" "),t(r.a,{attrs:{color:"primary",width:"150"},on:{click:e.save}},[e._v("Save")])],1)],2)],1)}),[],!1,null,"3eb9e81b",null);t.default=component.exports;installComponents(component,{TextField:n(470).default,IconBtn:n(488).default})}}]);